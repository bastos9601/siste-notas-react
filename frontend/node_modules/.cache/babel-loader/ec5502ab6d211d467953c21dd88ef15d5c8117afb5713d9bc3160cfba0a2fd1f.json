{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alfredo\\\\Desktop\\\\sisetmas-notas-react\\\\frontend\\\\src\\\\pages\\\\alumno\\\\AlumnoNotas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FileText, TrendingUp, Award, BookOpen, Search, ArrowLeft, ChevronDown, ChevronRight } from 'lucide-react';\nimport { alumnoService } from '../../services/alumnoService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AlumnoNotas = () => {\n  _s();\n  const {\n    asignaturaId\n  } = useParams();\n  const navigate = useNavigate();\n  const [notas, setNotas] = useState([]);\n  const [asignaturas, setAsignaturas] = useState([]);\n  const [promedioGeneral, setPromedioGeneral] = useState(null);\n  const [promediosPorAsignatura, setPromediosPorAsignatura] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedAsignatura, setSelectedAsignatura] = useState(asignaturaId || '');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [expandedAsignaturas, setExpandedAsignaturas] = useState(new Set());\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      const [notasData, asignaturasData, promedioData, promediosAsignaturaData] = await Promise.all([alumnoService.getMisNotas(), alumnoService.getMisAsignaturas(), alumnoService.getMiPromedio(), alumnoService.getPromedioPorAsignatura()]);\n      setNotas(notasData);\n      setAsignaturas(asignaturasData);\n      setPromedioGeneral(promedioData);\n      setPromediosPorAsignatura(promediosAsignaturaData);\n    } catch (error) {\n      console.error('Error al cargar datos:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getNotasFiltradas = () => {\n    let notasFiltradas = notas;\n    if (selectedAsignatura) {\n      notasFiltradas = notasFiltradas.filter(nota => nota.asignatura_id === parseInt(selectedAsignatura));\n    }\n    if (searchTerm) {\n      notasFiltradas = notasFiltradas.filter(nota => {\n        var _nota$asignatura;\n        return (_nota$asignatura = nota.asignatura) === null || _nota$asignatura === void 0 ? void 0 : _nota$asignatura.nombre.toLowerCase().includes(searchTerm.toLowerCase());\n      });\n    }\n    return notasFiltradas;\n  };\n  const getAsignaturasConNotas = () => {\n    const notasFiltradas = getNotasFiltradas();\n    const asignaturasMap = new Map();\n    notasFiltradas.forEach(nota => {\n      if (!asignaturasMap.has(nota.asignatura_id)) {\n        var _nota$asignatura2, _nota$asignatura3, _nota$asignatura3$doc;\n        asignaturasMap.set(nota.asignatura_id, {\n          id: nota.asignatura_id,\n          nombre: (_nota$asignatura2 = nota.asignatura) === null || _nota$asignatura2 === void 0 ? void 0 : _nota$asignatura2.nombre,\n          docente: (_nota$asignatura3 = nota.asignatura) === null || _nota$asignatura3 === void 0 ? void 0 : (_nota$asignatura3$doc = _nota$asignatura3.docente) === null || _nota$asignatura3$doc === void 0 ? void 0 : _nota$asignatura3$doc.nombre_completo,\n          notas: []\n        });\n      }\n      asignaturasMap.get(nota.asignatura_id).notas.push(nota);\n    });\n    return Array.from(asignaturasMap.values());\n  };\n  const getEstadoNota = calificacion => {\n    if (calificacion >= 13) return {\n      texto: 'Aprobado',\n      color: 'green'\n    };\n    if (calificacion >= 10) return {\n      texto: 'Recuperación',\n      color: 'yellow'\n    };\n    return {\n      texto: 'Desaprobado',\n      color: 'red'\n    };\n  };\n  const getColorNota = calificacion => {\n    if (calificacion >= 13) return 'text-green-600';\n    if (calificacion >= 10) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n  const toggleAsignaturaExpansion = asignaturaId => {\n    setExpandedAsignaturas(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(asignaturaId)) {\n        newSet.delete(asignaturaId);\n      } else {\n        newSet.add(asignaturaId);\n      }\n      return newSet;\n    });\n  };\n  const getNotasPorAsignatura = asignaturaId => {\n    return notas.filter(nota => nota.asignatura_id === asignaturaId);\n  };\n  const calcularPromediosPorAsignatura = notasAsignatura => {\n    // Filtrar solo notas publicadas\n    const notasPublicadas = notasAsignatura.filter(nota => nota.publicada);\n\n    // Clasificar notas por tipo\n    const actividades = notasPublicadas.filter(nota => ['participacion', 'tarea', 'quiz', 'exposicion', 'laboratorio', 'trabajo_grupal'].includes(nota.tipo_nota));\n    const practicas = notasPublicadas.filter(nota => nota.tipo_nota === 'practica');\n    const parciales = notasPublicadas.filter(nota => nota.tipo_nota === 'examen_parcial');\n    const examenFinal = notasPublicadas.find(nota => nota.tipo_nota === 'examen_final');\n    const proyectos = notasPublicadas.filter(nota => nota.tipo_nota === 'proyecto');\n\n    // Calcular promedios\n    const promedioActividades = actividades.length > 0 ? actividades.reduce((sum, nota) => sum + nota.calificacion, 0) / actividades.length : 0;\n    const promedioPracticas = practicas.length > 0 ? practicas.reduce((sum, nota) => sum + nota.calificacion, 0) / practicas.length : 0;\n    const promedioParciales = parciales.length > 0 ? parciales.reduce((sum, nota) => sum + nota.calificacion, 0) / parciales.length : 0;\n    const notaExamenFinal = examenFinal ? examenFinal.calificacion : 0;\n    const promedioProyectos = proyectos.length > 0 ? proyectos.reduce((sum, nota) => sum + nota.calificacion, 0) / proyectos.length : 0;\n\n    // Promedio final dinámico: si hay proyectos, dividir entre 5; si no, entre 4\n    let sumaPromedios = promedioActividades + promedioPracticas + promedioParciales + notaExamenFinal;\n    let divisor = 4;\n    let formulaTexto = \"(Actividades + Prácticas + Parciales + Examen Final) ÷ 4\";\n    if (proyectos.length > 0) {\n      sumaPromedios += promedioProyectos;\n      divisor = 5;\n      formulaTexto = \"(Actividades + Prácticas + Parciales + Examen Final + Proyectos) ÷ 5\";\n    }\n    const promedioFinal = sumaPromedios / divisor;\n    return {\n      promedioActividades,\n      promedioPracticas,\n      promedioParciales,\n      notaExamenFinal,\n      promedioProyectos,\n      promedioFinal,\n      cantidadActividades: actividades.length,\n      cantidadPracticas: practicas.length,\n      cantidadParciales: parciales.length,\n      tieneExamenFinal: !!examenFinal,\n      cantidadProyectos: proyectos.length,\n      formulaTexto\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n  const notasFiltradas = getNotasFiltradas();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: asignaturaId && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/alumno/asignaturas'),\n          className: \"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Volver a Asignaturas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Mis Notas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Filtrar por Asignatura\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"input-field\",\n            value: selectedAsignatura,\n            onChange: e => setSelectedAsignatura(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Todas las asignaturas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), asignaturas.map(asignatura => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: asignatura.id,\n              children: asignatura.nombre\n            }, asignatura.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Buscar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(Search, {\n                className: \"h-5 w-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Buscar por asignatura...\",\n              className: \"input-field pl-10\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), \"Mis Calificaciones\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), (() => {\n        const asignaturasConNotas = getAsignaturasConNotas();\n        if (asignaturasConNotas.length === 0) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"mx-auto h-12 w-12 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mt-2 text-sm font-medium text-gray-900\",\n              children: \"No hay notas disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: selectedAsignatura ? 'No tienes notas en esta asignatura.' : 'No tienes notas registradas.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: asignaturasConNotas.map(asignatura => {\n            const isExpanded = expandedAsignaturas.has(asignatura.id);\n            const promedios = calcularPromediosPorAsignatura(asignatura.notas);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-gray-200 rounded-lg overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 px-4 py-3 cursor-pointer hover:bg-gray-100 transition-colors\",\n                onClick: () => toggleAsignaturaExpansion(asignatura.id),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [isExpanded ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n                      className: \"h-5 w-5 text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n                      className: \"h-5 w-5 text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(BookOpen, {\n                      className: \"h-5 w-5 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: asignatura.nombre\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 344,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-500\",\n                        children: asignatura.docente\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [asignatura.notas.length, \" nota(s)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `text-lg font-bold ${promedios.promedioFinal >= 13 ? 'text-green-600' : promedios.promedioFinal >= 10 ? 'text-yellow-600' : 'text-red-600'}`,\n                      children: promedios.promedioFinal > 0 ? promedios.promedioFinal.toFixed(2) : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"overflow-x-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"min-w-full divide-y divide-gray-200\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      className: \"bg-gray-50\",\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                          children: \"Tipo de Evaluaci\\xF3n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 368,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                          children: \"Calificaci\\xF3n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 371,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                          children: \"Estado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 374,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                          children: \"Fecha\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 377,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      className: \"bg-white divide-y divide-gray-200\",\n                      children: asignatura.notas.map(nota => {\n                        const estado = getEstadoNota(nota.calificacion);\n                        return /*#__PURE__*/_jsxDEV(\"tr\", {\n                          className: \"hover:bg-gray-50\",\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-6 py-4 whitespace-nowrap\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n                              children: nota.tipo_nota.replace('_', ' ')\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 388,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 387,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-6 py-4 whitespace-nowrap\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `text-sm font-semibold ${getColorNota(nota.calificacion)}`,\n                              children: nota.calificacion\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 393,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 392,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-6 py-4 whitespace-nowrap\",\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${estado.color === 'green' ? 'bg-green-100 text-green-800' : estado.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                              children: estado.texto\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 398,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 397,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                            children: new Date(nota.fecha_registro).toLocaleDateString()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 406,\n                            columnNumber: 37\n                          }, this)]\n                        }, nota.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 35\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-50 rounded-lg p-4 m-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-sm font-semibold text-gray-800 mb-3 flex items-center\",\n                    children: [\"\\uD83D\\uDCCA Resumen de Promedios - \", asignatura.nombre]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-3 mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white rounded-lg p-3 shadow-sm border border-purple-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-600 mb-1\",\n                        children: [\"\\uD83D\\uDCDD Actividades (\", promedios.cantidadActividades, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-lg font-bold text-purple-600\",\n                        children: promedios.promedioActividades > 0 ? promedios.promedioActividades.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white rounded-lg p-3 shadow-sm border border-blue-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-600 mb-1\",\n                        children: [\"\\uD83D\\uDD2C Pr\\xE1cticas (\", promedios.cantidadPracticas, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-lg font-bold text-blue-600\",\n                        children: promedios.promedioPracticas > 0 ? promedios.promedioPracticas.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white rounded-lg p-3 shadow-sm border border-orange-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-600 mb-1\",\n                        children: [\"\\uD83D\\uDCCB Parciales (\", promedios.cantidadParciales, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-lg font-bold text-orange-600\",\n                        children: promedios.promedioParciales > 0 ? promedios.promedioParciales.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white rounded-lg p-3 shadow-sm border border-red-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-600 mb-1\",\n                        children: \"\\uD83D\\uDCDD Examen Final\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-lg font-bold text-red-600\",\n                        children: promedios.tieneExamenFinal ? promedios.notaExamenFinal.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white rounded-lg p-3 shadow-sm border border-indigo-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-600 mb-1\",\n                        children: [\"\\uD83C\\uDFAF Proyectos (\", promedios.cantidadProyectos, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-lg font-bold text-indigo-600\",\n                        children: promedios.promedioProyectos > 0 ? promedios.promedioProyectos.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg p-4 shadow-md border-2 border-green-300\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm font-bold text-gray-700 mb-1\",\n                          children: \"\\uD83C\\uDFC6 PROMEDIO FINAL\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 478,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-600\",\n                          children: promedios.formulaTexto\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 481,\n                          columnNumber: 33\n                        }, this), promedios.promedioFinal > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `mt-1 text-xs font-semibold ${promedios.promedioFinal >= 13 ? 'text-green-700' : promedios.promedioFinal >= 10 ? 'text-yellow-700' : 'text-red-700'}`,\n                          children: [\"Estado: \", promedios.promedioFinal >= 13 ? '✅ Aprobado' : promedios.promedioFinal >= 10 ? '⚠️ Recuperación' : '❌ Desaprobado']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 485,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 477,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-3xl font-bold ${promedios.promedioFinal >= 13 ? 'text-green-700' : promedios.promedioFinal >= 10 ? 'text-yellow-700' : 'text-red-700'}`,\n                        children: promedios.promedioFinal > 0 ? promedios.promedioFinal.toFixed(2) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 23\n              }, this)]\n            }, asignatura.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this);\n      })()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), selectedAsignatura && notasFiltradas.length > 0 && (() => {\n      const promedios = calcularPromediosPorAsignatura(notasFiltradas);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this)\n      // </div>\n      ;\n    })()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n_s(AlumnoNotas, \"dmFCHwAFCoqYgi1DWbSglhfU3+0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AlumnoNotas;\nexport default AlumnoNotas;\nvar _c;\n$RefreshReg$(_c, \"AlumnoNotas\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FileText","TrendingUp","Award","BookOpen","Search","ArrowLeft","ChevronDown","ChevronRight","alumnoService","jsxDEV","_jsxDEV","AlumnoNotas","_s","asignaturaId","navigate","notas","setNotas","asignaturas","setAsignaturas","promedioGeneral","setPromedioGeneral","promediosPorAsignatura","setPromediosPorAsignatura","loading","setLoading","selectedAsignatura","setSelectedAsignatura","searchTerm","setSearchTerm","expandedAsignaturas","setExpandedAsignaturas","Set","loadData","notasData","asignaturasData","promedioData","promediosAsignaturaData","Promise","all","getMisNotas","getMisAsignaturas","getMiPromedio","getPromedioPorAsignatura","error","console","getNotasFiltradas","notasFiltradas","filter","nota","asignatura_id","parseInt","_nota$asignatura","asignatura","nombre","toLowerCase","includes","getAsignaturasConNotas","asignaturasMap","Map","forEach","has","_nota$asignatura2","_nota$asignatura3","_nota$asignatura3$doc","set","id","docente","nombre_completo","get","push","Array","from","values","getEstadoNota","calificacion","texto","color","getColorNota","toggleAsignaturaExpansion","prev","newSet","delete","add","getNotasPorAsignatura","calcularPromediosPorAsignatura","notasAsignatura","notasPublicadas","publicada","actividades","tipo_nota","practicas","parciales","examenFinal","find","proyectos","promedioActividades","length","reduce","sum","promedioPracticas","promedioParciales","notaExamenFinal","promedioProyectos","sumaPromedios","divisor","formulaTexto","promedioFinal","cantidadActividades","cantidadPracticas","cantidadParciales","tieneExamenFinal","cantidadProyectos","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","target","map","type","placeholder","asignaturasConNotas","isExpanded","promedios","toFixed","estado","replace","Date","fecha_registro","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/Alfredo/Desktop/sisetmas-notas-react/frontend/src/pages/alumno/AlumnoNotas.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { FileText, TrendingUp, Award, BookOpen, Search, ArrowLeft, ChevronDown, ChevronRight } from 'lucide-react';\r\nimport { alumnoService } from '../../services/alumnoService';\r\n\r\nconst AlumnoNotas = () => {\r\n  const { asignaturaId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [notas, setNotas] = useState([]);\r\n  const [asignaturas, setAsignaturas] = useState([]);\r\n  const [promedioGeneral, setPromedioGeneral] = useState(null);\r\n  const [promediosPorAsignatura, setPromediosPorAsignatura] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedAsignatura, setSelectedAsignatura] = useState(asignaturaId || '');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [expandedAsignaturas, setExpandedAsignaturas] = useState(new Set());\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [notasData, asignaturasData, promedioData, promediosAsignaturaData] = await Promise.all([\r\n        alumnoService.getMisNotas(),\r\n        alumnoService.getMisAsignaturas(),\r\n        alumnoService.getMiPromedio(),\r\n        alumnoService.getPromedioPorAsignatura()\r\n      ]);\r\n      \r\n      setNotas(notasData);\r\n      setAsignaturas(asignaturasData);\r\n      setPromedioGeneral(promedioData);\r\n      setPromediosPorAsignatura(promediosAsignaturaData);\r\n    } catch (error) {\r\n      console.error('Error al cargar datos:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getNotasFiltradas = () => {\r\n    let notasFiltradas = notas;\r\n\r\n    if (selectedAsignatura) {\r\n      notasFiltradas = notasFiltradas.filter(nota => nota.asignatura_id === parseInt(selectedAsignatura));\r\n    }\r\n\r\n    if (searchTerm) {\r\n      notasFiltradas = notasFiltradas.filter(nota =>\r\n        nota.asignatura?.nombre.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    return notasFiltradas;\r\n  };\r\n\r\n  const getAsignaturasConNotas = () => {\r\n    const notasFiltradas = getNotasFiltradas();\r\n    const asignaturasMap = new Map();\r\n    \r\n    notasFiltradas.forEach(nota => {\r\n      if (!asignaturasMap.has(nota.asignatura_id)) {\r\n        asignaturasMap.set(nota.asignatura_id, {\r\n          id: nota.asignatura_id,\r\n          nombre: nota.asignatura?.nombre,\r\n          docente: nota.asignatura?.docente?.nombre_completo,\r\n          notas: []\r\n        });\r\n      }\r\n      asignaturasMap.get(nota.asignatura_id).notas.push(nota);\r\n    });\r\n    \r\n    return Array.from(asignaturasMap.values());\r\n  };\r\n\r\n  const getEstadoNota = (calificacion) => {\r\n    if (calificacion >= 13) return { texto: 'Aprobado', color: 'green' };\r\n    if (calificacion >= 10) return { texto: 'Recuperación', color: 'yellow' };\r\n    return { texto: 'Desaprobado', color: 'red' };\r\n  };\r\n\r\n  const getColorNota = (calificacion) => {\r\n    if (calificacion >= 13) return 'text-green-600';\r\n    if (calificacion >= 10) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const toggleAsignaturaExpansion = (asignaturaId) => {\r\n    setExpandedAsignaturas(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(asignaturaId)) {\r\n        newSet.delete(asignaturaId);\r\n      } else {\r\n        newSet.add(asignaturaId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const getNotasPorAsignatura = (asignaturaId) => {\r\n    return notas.filter(nota => nota.asignatura_id === asignaturaId);\r\n  };\r\n\r\n  const calcularPromediosPorAsignatura = (notasAsignatura) => {\r\n    // Filtrar solo notas publicadas\r\n    const notasPublicadas = notasAsignatura.filter(nota => nota.publicada);\r\n    \r\n    // Clasificar notas por tipo\r\n    const actividades = notasPublicadas.filter(nota => \r\n      ['participacion', 'tarea', 'quiz', 'exposicion', 'laboratorio', 'trabajo_grupal'].includes(nota.tipo_nota)\r\n    );\r\n    \r\n    const practicas = notasPublicadas.filter(nota => \r\n      nota.tipo_nota === 'practica'\r\n    );\r\n    \r\n    const parciales = notasPublicadas.filter(nota => \r\n      nota.tipo_nota === 'examen_parcial'\r\n    );\r\n    \r\n    const examenFinal = notasPublicadas.find(nota => \r\n      nota.tipo_nota === 'examen_final'\r\n    );\r\n    \r\n    const proyectos = notasPublicadas.filter(nota => \r\n      nota.tipo_nota === 'proyecto'\r\n    );\r\n    \r\n    // Calcular promedios\r\n    const promedioActividades = actividades.length > 0 \r\n      ? actividades.reduce((sum, nota) => sum + nota.calificacion, 0) / actividades.length \r\n      : 0;\r\n    \r\n    const promedioPracticas = practicas.length > 0 \r\n      ? practicas.reduce((sum, nota) => sum + nota.calificacion, 0) / practicas.length \r\n      : 0;\r\n    \r\n    const promedioParciales = parciales.length > 0 \r\n      ? parciales.reduce((sum, nota) => sum + nota.calificacion, 0) / parciales.length \r\n      : 0;\r\n    \r\n    const notaExamenFinal = examenFinal ? examenFinal.calificacion : 0;\r\n    \r\n    const promedioProyectos = proyectos.length > 0 \r\n      ? proyectos.reduce((sum, nota) => sum + nota.calificacion, 0) / proyectos.length \r\n      : 0;\r\n    \r\n    // Promedio final dinámico: si hay proyectos, dividir entre 5; si no, entre 4\r\n    let sumaPromedios = promedioActividades + promedioPracticas + promedioParciales + notaExamenFinal;\r\n    let divisor = 4;\r\n    let formulaTexto = \"(Actividades + Prácticas + Parciales + Examen Final) ÷ 4\";\r\n    \r\n    if (proyectos.length > 0) {\r\n      sumaPromedios += promedioProyectos;\r\n      divisor = 5;\r\n      formulaTexto = \"(Actividades + Prácticas + Parciales + Examen Final + Proyectos) ÷ 5\";\r\n    }\r\n    \r\n    const promedioFinal = sumaPromedios / divisor;\r\n    \r\n    return {\r\n      promedioActividades,\r\n      promedioPracticas,\r\n      promedioParciales,\r\n      notaExamenFinal,\r\n      promedioProyectos,\r\n      promedioFinal,\r\n      cantidadActividades: actividades.length,\r\n      cantidadPracticas: practicas.length,\r\n      cantidadParciales: parciales.length,\r\n      tieneExamenFinal: !!examenFinal,\r\n      cantidadProyectos: proyectos.length,\r\n      formulaTexto\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const notasFiltradas = getNotasFiltradas();\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          {asignaturaId && (\r\n            <button\r\n              onClick={() => navigate('/alumno/asignaturas')}\r\n              className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"h-5 w-5\" />\r\n              <span>Volver a Asignaturas</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Mis Notas</h1>\r\n      </div>\r\n\r\n      {/* Estadísticas generales */}\r\n      {/* {promedioGeneral && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n          <div className=\"card\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <TrendingUp className=\"h-8 w-8 text-blue-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Promedio General</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{promedioGeneral.promedio}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <FileText className=\"h-8 w-8 text-green-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Total Notas</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{promedioGeneral.total_notas}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Award className=\"h-8 w-8 text-yellow-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Nota Máxima</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{promedioGeneral.nota_maxima}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <BookOpen className=\"h-8 w-8 text-purple-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500\">Nota Mínima</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900\">{promedioGeneral.nota_minima}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )} */}\r\n\r\n      {/* Filtros */}\r\n      <div className=\"card\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Filtrar por Asignatura\r\n            </label>\r\n            <select\r\n              className=\"input-field\"\r\n              value={selectedAsignatura}\r\n              onChange={(e) => setSelectedAsignatura(e.target.value)}\r\n            >\r\n              <option value=\"\">Todas las asignaturas</option>\r\n              {asignaturas.map((asignatura) => (\r\n                <option key={asignatura.id} value={asignatura.id}>\r\n                  {asignatura.nombre}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Buscar\r\n            </label>\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <Search className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar por asignatura...\"\r\n                className=\"input-field pl-10\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabla de Notas con Expansión */}\r\n      <div className=\"card\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n          <FileText className=\"h-5 w-5 mr-2\" />\r\n          Mis Calificaciones\r\n        </h2>\r\n        \r\n        {(() => {\r\n          const asignaturasConNotas = getAsignaturasConNotas();\r\n          \r\n          if (asignaturasConNotas.length === 0) {\r\n            return (\r\n              <div className=\"text-center py-8\">\r\n                <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No hay notas disponibles</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  {selectedAsignatura ? 'No tienes notas en esta asignatura.' : 'No tienes notas registradas.'}\r\n                </p>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          return (\r\n            <div className=\"space-y-4\">\r\n              {asignaturasConNotas.map((asignatura) => {\r\n                const isExpanded = expandedAsignaturas.has(asignatura.id);\r\n                const promedios = calcularPromediosPorAsignatura(asignatura.notas);\r\n                \r\n                return (\r\n                  <div key={asignatura.id} className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                    {/* Fila principal de la asignatura */}\r\n                    <div \r\n                      className=\"bg-gray-50 px-4 py-3 cursor-pointer hover:bg-gray-100 transition-colors\"\r\n                      onClick={() => toggleAsignaturaExpansion(asignatura.id)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          {isExpanded ? (\r\n                            <ChevronDown className=\"h-5 w-5 text-gray-500\" />\r\n                          ) : (\r\n                            <ChevronRight className=\"h-5 w-5 text-gray-500\" />\r\n                          )}\r\n                          <BookOpen className=\"h-5 w-5 text-gray-400\" />\r\n                          <div>\r\n                            <h3 className=\"text-lg font-medium text-gray-900\">{asignatura.nombre}</h3>\r\n                            <p className=\"text-sm text-gray-500\">{asignatura.docente}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"text-sm text-gray-500\">{asignatura.notas.length} nota(s)</div>\r\n                          <div className={`text-lg font-bold ${\r\n                            promedios.promedioFinal >= 13 ? 'text-green-600' :\r\n                            promedios.promedioFinal >= 10 ? 'text-yellow-600' :\r\n                            'text-red-600'\r\n                          }`}>\r\n                            {promedios.promedioFinal > 0 ? promedios.promedioFinal.toFixed(2) : '-'}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Notas expandidas */}\r\n                    {isExpanded && (\r\n                      <div className=\"bg-white\">\r\n                        <div className=\"overflow-x-auto\">\r\n                          <table className=\"min-w-full divide-y divide-gray-200\">\r\n                            <thead className=\"bg-gray-50\">\r\n                              <tr>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                  Tipo de Evaluación\r\n                                </th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                  Calificación\r\n                                </th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                  Estado\r\n                                </th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                  Fecha\r\n                                </th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                              {asignatura.notas.map((nota) => {\r\n                                const estado = getEstadoNota(nota.calificacion);\r\n                                return (\r\n                                  <tr key={nota.id} className=\"hover:bg-gray-50\">\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n                                        {nota.tipo_nota.replace('_', ' ')}\r\n                                      </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                      <span className={`text-sm font-semibold ${getColorNota(nota.calificacion)}`}>\r\n                                        {nota.calificacion}\r\n                                      </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                                        estado.color === 'green' ? 'bg-green-100 text-green-800' :\r\n                                        estado.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :\r\n                                        'bg-red-100 text-red-800'\r\n                                      }`}>\r\n                                        {estado.texto}\r\n                                      </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                      {new Date(nota.fecha_registro).toLocaleDateString()}\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n\r\n                        {/* Resumen de Promedios Detallado */}\r\n                        <div className=\"bg-gray-50 rounded-lg p-4 m-4\">\r\n                          <h4 className=\"text-sm font-semibold text-gray-800 mb-3 flex items-center\">\r\n                            📊 Resumen de Promedios - {asignatura.nombre}\r\n                          </h4>\r\n                          \r\n                          <div className=\"grid grid-cols-2 gap-3 mb-4\">\r\n                            {/* Promedio de Actividades */}\r\n                            <div className=\"bg-white rounded-lg p-3 shadow-sm border border-purple-100\">\r\n                              <div className=\"text-xs text-gray-600 mb-1\">\r\n                                📝 Actividades ({promedios.cantidadActividades})\r\n                              </div>\r\n                              <div className=\"text-lg font-bold text-purple-600\">\r\n                                {promedios.promedioActividades > 0 ? promedios.promedioActividades.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Promedio de Prácticas */}\r\n                            <div className=\"bg-white rounded-lg p-3 shadow-sm border border-blue-100\">\r\n                              <div className=\"text-xs text-gray-600 mb-1\">\r\n                                🔬 Prácticas ({promedios.cantidadPracticas})\r\n                              </div>\r\n                              <div className=\"text-lg font-bold text-blue-600\">\r\n                                {promedios.promedioPracticas > 0 ? promedios.promedioPracticas.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Promedio de Parciales */}\r\n                            <div className=\"bg-white rounded-lg p-3 shadow-sm border border-orange-100\">\r\n                              <div className=\"text-xs text-gray-600 mb-1\">\r\n                                📋 Parciales ({promedios.cantidadParciales})\r\n                              </div>\r\n                              <div className=\"text-lg font-bold text-orange-600\">\r\n                                {promedios.promedioParciales > 0 ? promedios.promedioParciales.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Examen Final */}\r\n                            <div className=\"bg-white rounded-lg p-3 shadow-sm border border-red-100\">\r\n                              <div className=\"text-xs text-gray-600 mb-1\">\r\n                                📝 Examen Final\r\n                              </div>\r\n                              <div className=\"text-lg font-bold text-red-600\">\r\n                                {promedios.tieneExamenFinal ? promedios.notaExamenFinal.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Promedio de Proyectos */}\r\n                            <div className=\"bg-white rounded-lg p-3 shadow-sm border border-indigo-100\">\r\n                              <div className=\"text-xs text-gray-600 mb-1\">\r\n                                🎯 Proyectos ({promedios.cantidadProyectos})\r\n                              </div>\r\n                              <div className=\"text-lg font-bold text-indigo-600\">\r\n                                {promedios.promedioProyectos > 0 ? promedios.promedioProyectos.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          {/* Promedio Final Calculado */}\r\n                          <div className=\"bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg p-4 shadow-md border-2 border-green-300\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div>\r\n                                <div className=\"text-sm font-bold text-gray-700 mb-1\">\r\n                                  🏆 PROMEDIO FINAL\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-600\">\r\n                                  {promedios.formulaTexto}\r\n                                </div>\r\n                                {promedios.promedioFinal > 0 && (\r\n                                  <div className={`mt-1 text-xs font-semibold ${\r\n                                    promedios.promedioFinal >= 13 ? 'text-green-700' :\r\n                                    promedios.promedioFinal >= 10 ? 'text-yellow-700' :\r\n                                    'text-red-700'\r\n                                  }`}>\r\n                                    Estado: {promedios.promedioFinal >= 13 ? '✅ Aprobado' :\r\n                                            promedios.promedioFinal >= 10 ? '⚠️ Recuperación' :\r\n                                            '❌ Desaprobado'}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                              <div className={`text-3xl font-bold ${\r\n                                promedios.promedioFinal >= 13 ? 'text-green-700' :\r\n                                promedios.promedioFinal >= 10 ? 'text-yellow-700' :\r\n                                'text-red-700'\r\n                              }`}>\r\n                                {promedios.promedioFinal > 0 ? promedios.promedioFinal.toFixed(2) : '-'}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })()}\r\n      </div>\r\n\r\n      {/* Resumen de Promedios por Asignatura */}\r\n      {selectedAsignatura && notasFiltradas.length > 0 && (() => {\r\n        const promedios = calcularPromediosPorAsignatura(notasFiltradas);\r\n        return (\r\n          <div className=\"card\">\r\n            {/* <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n              📊 Resumen de Promedios - {asignaturas.find(a => a.id === parseInt(selectedAsignatura))?.nombre}\r\n            </h2> */}\r\n            \r\n            {/* <div className=\"space-y-4\"> */}\r\n              {/* <div className=\"grid grid-cols-2 gap-4\"> */}\r\n                {/* Promedio de Actividades */}\r\n                {/* <div className=\"bg-white rounded-lg p-4 shadow-sm border border-purple-100\">\r\n                  <div className=\"text-sm text-gray-600 mb-2 flex items-center\">\r\n                    📝 Actividades ({promedios.cantidadActividades})\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-purple-600\">\r\n                    {promedios.promedioActividades > 0 ? promedios.promedioActividades.toFixed(2) : '-'}\r\n                  </div>\r\n                </div> */}\r\n                \r\n                {/* Promedio de Prácticas */}\r\n                {/* <div className=\"bg-white rounded-lg p-4 shadow-sm border border-blue-100\">\r\n                  <div className=\"text-sm text-gray-600 mb-2 flex items-center\">\r\n                    🔬 Prácticas ({promedios.cantidadPracticas})\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {promedios.promedioPracticas > 0 ? promedios.promedioPracticas.toFixed(2) : '-'}\r\n                  </div>\r\n                </div> */}\r\n                \r\n                {/* Promedio de Parciales */}\r\n                {/* <div className=\"bg-white rounded-lg p-4 shadow-sm border border-orange-100\">\r\n                  <div className=\"text-sm text-gray-600 mb-2 flex items-center\">\r\n                    📋 Parciales ({promedios.cantidadParciales})\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-orange-600\">\r\n                    {promedios.promedioParciales > 0 ? promedios.promedioParciales.toFixed(2) : '-'}\r\n                  </div>\r\n                </div> */}\r\n                \r\n                {/* Examen Final */}\r\n                {/* <div className=\"bg-white rounded-lg p-4 shadow-sm border border-red-100\">\r\n                  <div className=\"text-sm text-gray-600 mb-2 flex items-center\">\r\n                    📝 Examen Final\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-red-600\">\r\n                    {promedios.tieneExamenFinal ? promedios.notaExamenFinal.toFixed(2) : '-'}\r\n                  </div>\r\n                </div> */}\r\n              {/* </div> */}\r\n              \r\n              {/* Promedio Final */}\r\n              {/* <div className=\"bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg p-6 shadow-md border-2 border-green-300\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <div className=\"text-lg font-bold text-gray-700 mb-2 flex items-center\">\r\n                      🏆 PROMEDIO FINAL\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600 mb-2\">\r\n                      {promedios.formulaTexto}\r\n                    </div>\r\n                    {promedios.promedioFinal > 0 && (\r\n                      <div className={`text-sm font-semibold ${\r\n                        promedios.promedioFinal >= 13 ? 'text-green-700' :\r\n                        promedios.promedioFinal >= 10 ? 'text-yellow-700' :\r\n                        'text-red-700'\r\n                      }`}>\r\n                        Estado: {promedios.promedioFinal >= 13 ? '✅ Aprobado' :\r\n                                promedios.promedioFinal >= 10 ? '⚠️ Recuperación' :\r\n                                '❌ Desaprobado'}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className={`text-4xl font-bold ${\r\n                    promedios.promedioFinal >= 13 ? 'text-green-700' :\r\n                    promedios.promedioFinal >= 10 ? 'text-yellow-700' :\r\n                    'text-red-700'\r\n                  }`}>\r\n                    {promedios.promedioFinal > 0 ? promedios.promedioFinal.toFixed(2) : '-'}\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n            </div>\r\n          // </div>\r\n        );\r\n      })()}\r\n\r\n      {/* Promedios por asignatura */}\r\n      {/* {promediosPorAsignatura.length > 0 && (\r\n        <div className=\"card\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Promedios por Asignatura</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {promediosPorAsignatura.map((promedio) => (\r\n              <div key={promedio.asignatura_id} className=\"p-4 border border-gray-200 rounded-lg\">\r\n                <h3 className=\"font-medium text-gray-900 mb-2\">{promedio.asignatura_nombre}</h3>\r\n                <div className=\"space-y-1\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-500\">Promedio:</span>\r\n                    <span className=\"font-semibold text-gray-900\">{promedio.promedio}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-500\">Notas:</span>\r\n                    <span className=\"text-gray-900\">{promedio.total_notas}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-500\">Máxima:</span>\r\n                    <span className=\"text-gray-900\">{promedio.nota_maxima}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-gray-500\">Mínima:</span>\r\n                    <span className=\"text-gray-900\">{promedio.nota_minima}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlumnoNotas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}